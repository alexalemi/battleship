<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<title>Battleship</title>
<base href="http://localhost" />
<link rel="stylesheet" type="text/css" href="style.css" media="screen" />



<link rel="stylesheet" href="about/pygments_style.css"> 



</head>
<body>
<div id="header">
<h1 style="font-size: 4em; left: -150px; position: relative;">Battleship</h1>
 <div id="menu">
  <ul id="nav">
   <li><a href="/">Home</a></li>
   <li><a href="about/">About</a></li>
   <li><a href="programs/">Programs</a></li>
   <li><a href="games/">Games</a></li>
  </ul>
 </div>
</div>
<div id="content">
<div id="right">



<div id="item">


    <h1> You sunk my battleship! </h1>

    <p>We all love to play Battleship, that's a given.  But do you really have time to get a board and actually move those pieces with your <i>hands</i>?! Of course not!  So help us take that pesky human element out of an otherwise great game with the First Annual SKYNET Battleship Programming Challenge!   </p>

    <p>The First Annual SKYNET Battleship Programming Challenge is a competition for Cornell students to write their very own code to play Battleship against other similarly inclined individuals.  You submit your code and on some preordained day we will all meet and have a massive round-robin super-battle unseen since the days of gladiators.</p>

    <p>So what exactly does your code need to do?  Well, the minimum requirements for your code are that it needs to be able to run on a linux machine (in particular the machines in the computer lab), read from stdin and print to stdout. So you can use any language you like, so long as it can read and write.  The programs will battle in the digital colosseum we* have designed that will run each program, take your guess, tell you if it was a hit or not and tell you what type of ship you have sunk if and when you sink it.  This will repeat until the game is over.  For more information see the Gory Details below.</p>

    <p>So who should play?  Anyone who: 
    <ul>
    <li> Likes programming and/or Battleship
    <li> Has mild to moderate <i>Deep Blue</i> fantasies
    <li> Has ever thought <i>Gladiator</i> needed more computers
    <li> Feels REALLY BAD about not doing the Gilligan's Island thing last month
    <li> Wants a fun reason to program and maybe get pizza or win prizes
    </ul>

    <p> Good luck and don't hesistate to shoot us an <a href="mailto:the.physics.virtuosi@gmail.com?subject=Battleship">email</a> if you have any questions!</p>

</div><br />
<div id="item">
    <h2> Gory Details </h2>

    <p> To clarify the API a little bit, below is a layout of everything you need to know to design a competition ready entry. </p>

    <h4> Rules of Battleship </h4>

    <p> To put it simply, the competition will model the game of battleship as I played it as a youth.  So, each player will, at the start of the game lay down their pieces, then they will take turns making guesses, which the opponent needs to annouce as either a miss, or hit, with the additional requirement that when a ship is sunk, you must announce which shink was sank.  The winner is the player who sinks the opponents ships first. </p>

    <h4> Rules for tournament </h4>
    <p> Each program will be faced off against every other program N times, where N is some number probably around 100 or so.  You will go first half of the time, and the opponent will go first the other half.  Your program will be instantiated at the beginning of one of these faceoffs, and will persist until you finish playing the N games against a single opponent, at which point you will be asked to quit.  You will be reinstantiated upon your next matchup.  If you wish to maintain some kind of state between matchups, you are allowed to read and write to a single file, "programnamefiles/programname.txt" where programname is your program's name. For example, if your program is called "killer.py"  you are allowed to write to "killer/killer.txt".  Any attempt to screw with any other files will cause a disqualification and a pumelling by your's truly. </p>

    <p> Also, there will be a timeout imposed on all of your programs responses.  From the time you recieve an input, you have X seconds to respond, where X is something on the order of 10 seconds or so.  Failure to respond in time will raise an error, which will mean a loss. </p>

    <p> In general, if your program raises any errors, it will count as a loss </p>

    <h4> Some internal definitions </h4>

    <p> As far as the game goes, you have 5 ships, the Carrier, Battleship, Destroyer, Submarine, and Patrol Boat, denoted (C,B,D,S,P), with lengths (5,4,3,3,2). </p>

    <p> The game takes place on a 10x10 grid, with letters A-J denoting the columns, and number 0-9 the rows, e.g. <br>
    <pre>   
         A  B  C  D  E  F  G  H  I  J
       ------------------------------- 
     0 |A0|B0|C0|D0|E0|F0|G0|H0|I0|J0| 
       -------------------------------
     1 |A1|B1|C1|D1|E1|F1|G1|H1|I1|J1| 
       -------------------------------
     2 |A2|B2|C2|D2|E2|F2|G2|H2|I2|J2| 
       -------------------------------
     3 |A3|B3|C3|D3|E3|F3|G3|H3|I3|J3| 
       -------------------------------
     4 |A4|B4|C4|D4|E4|F4|G4|H4|I4|J4| 
       -------------------------------
     5 |A5|B5|C5|D5|E5|F5|G5|H5|I5|J5| 
       -------------------------------
     6 |A6|B6|C6|D6|E6|F6|G6|H6|I6|J6| 
       -------------------------------
     7 |A7|B7|C7|D7|E7|F7|G7|H7|I7|J7| 
       -------------------------------
     8 |A8|B8|C8|D8|E8|F8|G8|H8|I8|J8| 
       -------------------------------
     9 |A9|B9|C9|D9|E9|F9|G9|H9|I9|J9| 
       -------------------------------
    </pre>
</div><br />
<div id="item">
    <h4> Input / Output </h4>

    <p> Your program must be able to take input from the command line, printing a ">" before the input to mark that it is ready to recieve.  After recieving any of the codes below (except the kill command), you must then reready yourself. </p>

    <p> Possible commands and expected outputs </p>

    <ul>
        <li> <b> N "opponent_name" </b> - the command 'N' followed by your opponents name marks the start of a new game, you are required to output your board configuration.  The opponents name is passed in case you want to do something with it.
            
            <br>
            <b>REQUIRED OUTPUT: "[A-J][0-9][D|R] [A-J][0-9][D|R] [A-J][0-9][D|R] [A-J][0-9][D|R] [A-J][0-9][D|R]"</b>  - Your output must be a string consisting of five pairs of 3 character strings, denoting the location of your ships, in the order (Carrier, Battleship, Destroyer, Submarine, Patrol Boat), where the [A-J][0-9] marks a board position, and the D or R that follows marks whether your ship should go to the right or down from there.   Example output "A0D B0D C0D D0D E6R" would create a board of the following form: <br>
    <pre>
         A   B   C   D   E   F   G   H   I   J
       -----------------------------------------
     0 | C | B | D | S |   |   |   |   |   |   | 
       -----------------------------------------
     1 | C | B | D | S |   |   |   |   |   |   | 
       -----------------------------------------
     2 | C | B | D | S |   |   |   |   |   |   | 
       -----------------------------------------
     3 | C | B |   |   |   |   |   |   |   |   | 
       -----------------------------------------
     4 | C |   |   |   |   |   |   |   |   |   | 
       -----------------------------------------
     5 |   |   |   |   |   |   |   |   |   |   | 
       -----------------------------------------
     6 |   |   |   |   | P | P |   |   |   |   | 
       -----------------------------------------
     7 |   |   |   |   |   |   |   |   |   |   | 
       -----------------------------------------
     8 |   |   |   |   |   |   |   |   |   |   | 
       -----------------------------------------
     9 |   |   |   |   |   |   |   |   |   |   | 
       -----------------------------------------
    </pre>
        You're board will be checked for validity, i.e. to make sure none of the ships are overlapping or falling off the edge, if you give a bad board, you lose. <br>

         As a hint, on this command, if your game keeps a state per game, make sure to reinitialize all variables you might need, otherwise you will probably raise an error.

        <li> <b> F </b> - Fire command, asks you to take your next guess.  Outputs a board position. <br>
        <b> REQUIRED OUTPUT: "[A-J][0-9]" </b> - You are required to output a 2 character string, with the letter and number of your guess.

        <li> <b> H|M|S [C|B|D|S|P] </b> - Result of your last guess.  This tells you whether you got a hit "H", miss "M", or you sunk a ship "S [C|B|D|S|P]" where it will print S followed by a space and then a character denoting which ship you sank, as defined above.  For example, if you just sank the opponents battleship, you would be sent "S B".  No output required.

        <li> <b>O [A-J][0-9]</b> - Tells you what your opponent just guessed if you want to keep track.  For example, if your opponent guessed "A0" this turn, you would recieve "O A0".  No required output.

        <li> <b> W | L </b> - Win or loss.  Lets you know when you win or lose a game.  For example, if you just won, you would recieve "W".  No required output.

        <li> <b> K </b> - Kill command.  Tells your program to quit. 
        <b> REQUIRED OUTPUT: kill the program </b> You are not required to print any output, but if you recieve a "K" your program needs to quit. 

        <li> <b> E </b> - Error command.  Lets you know when your program caused an error.  Means you lost the game, but sent as courtosy.  No required output.  
    </ul>

    And that's it.  So, in whole, your program needs to have a main loop where you ask for input with a ">" command, read the input, and respond accordingly, rinse, repeat.  Depending on the first character of the input, you might be required to do certain things.  In all, the first characters your recieve will be one of [N,F,H,M,S,W,L,O,K,E].  But to be a functioning program, you really only need to write routines for those that require a response, namely "N" where you must print a valid board configuration, "F" where you must make a guess, and "K" where you must quit.
</div> <br />
<div id="item">

    <h3>Flow Diagram</h3>
    The above API can be represented with the following flow diagram.

    <center>
    <img src="about/ioflow1.png" width="50%">
    </center>
</div><br />
<div id="item">
    <h3> Example Programs </h3>
    <p> Below is a minimally compliant program, written in python.  Examples are avaiable for C, java, and octave as well that do the same thing as the program below.  Note, this is a very bad strategy, it randomly picks a board location, and really randomly, it doesn't even know if it checked that spot before, and it always returns the same board, but it is a valid submission. </p>


    <center>
    <div class="hlcode"> 
    <div class="syntax"><pre><span class="c">#! /usr/bin/env python</span> 
     
    <span class="c">#The line above ensures that this can be command line executed.</span> 
     
    <span class="c">#import random to make some random decisions</span> 
    <span class="kn">import</span> <span class="nn">random</span><span class="o">,</span> <span class="nn">sys</span> 
     
     
    <span class="k">def</span> <span class="nf">genboard</span><span class="p">():</span> 
        <span class="c">#This function would generate your choice board</span> 
        <span class="k">print</span> <span class="s">&quot;A0D B0D C0D D0D E0D&quot;</span> 
        
    <span class="k">def</span> <span class="nf">makeguess</span><span class="p">():</span> 
        <span class="c">#This function takes a guess.</span> 
        <span class="n">let</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="s">&#39;ABCDEFGHIJ&#39;</span><span class="p">)</span> 
        <span class="n">num</span> <span class="o">=</span> <span class="n">random</span><span class="o">.</span><span class="n">choice</span><span class="p">(</span><span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">))</span> 
     
        <span class="k">print</span> <span class="nb">str</span><span class="p">(</span><span class="n">let</span><span class="p">)</span><span class="o">+</span> <span class="nb">str</span><span class="p">(</span><span class="n">num</span><span class="p">)</span> 
        
    <span class="k">def</span> <span class="nf">getinput</span><span class="p">():</span> 
        <span class="c">#The main loop asks for input from the terminal</span> 
        <span class="n">inp</span> <span class="o">=</span> <span class="nb">raw_input</span><span class="p">(</span><span class="s">&#39;&gt;&#39;</span><span class="p">)</span> 
        
        <span class="k">return</span> <span class="n">inp</span> 
        
    <span class="k">if</span> <span class="n">__name__</span> <span class="o">==</span> <span class="s">&#39;__main__&#39;</span><span class="p">:</span> 
        <span class="c">#This runs if the file is launched 
        #from the command line, which it will be</span> 
     
        <span class="c">#set up a loop</span> 
        <span class="n">running</span> <span class="o">=</span> <span class="bp">True</span> 
        <span class="k">while</span> <span class="n">running</span><span class="p">:</span> 
            
            <span class="c">#read the input</span> 
            <span class="n">inp</span> <span class="o">=</span> <span class="n">getinput</span><span class="p">()</span> 
            
     
            <span class="k">if</span> <span class="n">inp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;N&#39;</span><span class="p">:</span> 
                <span class="c">#if the first character is N, call genboard()</span> 
                <span class="n">genboard</span><span class="p">()</span> 
                
            <span class="k">elif</span> <span class="n">inp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;F&#39;</span><span class="p">:</span> 
                <span class="c">#if the first character is F, call makeguess()</span> 
                <span class="n">makeguess</span><span class="p">()</span> 
                
            <span class="k">elif</span> <span class="n">inp</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="s">&#39;K&#39;</span><span class="p">:</span> 
                <span class="c">#if the first character is K, 
                #kill the program by causing us to leave the loop</span> 
                <span class="n">running</span> <span class="o">=</span> <span class="bp">False</span> 
    </pre></div> </div> </center>
     
    <p> And here is an example program in c, contributed by Bierbaum. </p>


    <center>
    <div class="hlcode"> 
    <div class="syntax"><pre><span class="cp">#include &lt;stdlib.h&gt;</span> 
    <span class="cp">#include &lt;stdio.h&gt;</span> 
     
    <span class="kt">void</span> <span class="n">printMove</span><span class="p">();</span> 
    <span class="kt">void</span> <span class="n">createBoard</span><span class="p">();</span> 
     
    <span class="kt">int</span> <span class="n">main</span><span class="p">(){</span> 
      <span class="kt">int</span> <span class="n">fightingthefaces</span> <span class="o">=</span> <span class="mi">1</span><span class="p">;</span> 
     
      <span class="k">while</span> <span class="p">(</span><span class="n">fightingthefaces</span><span class="p">){</span> 
        <span class="c1">// read some stdin</span> 
        <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span><span class="s">&quot;&gt;&quot;</span><span class="p">);</span> 
        <span class="kt">char</span> <span class="n">buf</span><span class="p">[</span><span class="mi">256</span><span class="p">];</span> 
        <span class="n">fscanf</span><span class="p">(</span><span class="n">stdin</span><span class="p">,</span> <span class="s">&quot;%s&quot;</span><span class="p">,</span> <span class="n">buf</span><span class="p">);</span> 
     
        <span class="k">if</span> <span class="p">(</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;N&#39;</span><span class="p">)</span> 
          <span class="n">createBoard</span><span class="p">();</span> 
     
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;F&#39;</span><span class="p">)</span> 
          <span class="n">printMove</span><span class="p">();</span> 
     
        <span class="k">else</span> <span class="k">if</span> <span class="p">(</span><span class="n">buf</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">==</span> <span class="sc">&#39;K&#39;</span><span class="p">)</span> 
          <span class="n">fightingthefaces</span> <span class="o">=</span> <span class="mi">0</span><span class="p">;</span> 
     
        <span class="k">else</span> <span class="p">{</span> 
          <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">&quot;</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span> 
         <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span> 
        <span class="p">}</span> 
      <span class="p">}</span> 
     
      <span class="k">return</span> <span class="mi">0</span><span class="p">;</span> 
    <span class="p">}</span> 
     
     
    <span class="kt">void</span> <span class="n">printMove</span><span class="p">(){</span> 
      <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">&quot;%c%i</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">,</span> <span class="p">(</span><span class="kt">char</span><span class="p">)(</span><span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="mi">10</span> <span class="o">+</span> <span class="mi">65</span><span class="p">),</span> <span class="n">rand</span><span class="p">()</span><span class="o">%</span><span class="mi">10</span><span class="p">);</span> 
      <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span> 
    <span class="p">}</span> 
     
     
    <span class="kt">void</span> <span class="n">createBoard</span><span class="p">(){</span> 
      <span class="n">fprintf</span><span class="p">(</span><span class="n">stdout</span><span class="p">,</span> <span class="s">&quot;A0D B0D C0D D0D E0D</span><span class="se">\n</span><span class="s">&quot;</span><span class="p">);</span> 
      <span class="n">fflush</span><span class="p">(</span><span class="n">stdout</span><span class="p">);</span> 
    <span class="p">}</span> 
    </pre></div> 

    </center>


    <p> Good luck and happy hunting. </p>

    <br><br>

    <p>*That is, Alex.</p>

</div><br />
<div id="item">
    <p class="footer"><i>The First Annual SKYNET Battleship Programming Challenge is brought to you by Cyberdyne Systems.  Cyberdyne Systems, building a better world for our future robot overlords.</i></p>




</div>


</div>
	
<div id="left">
    <br />
    

	<div class="box">
			<h3>News:</h3>	
			 03/21 - I've started to develop the views for the site. 
	</div>

	<div class="box">
				<h3>Links:</h3>
				<ul>
				<li><a href="http://alexalemi.com">Alex Alemi</a></li>
				<li><a href="http://thevirtuosi.blogspot.com">The Virtuosi</a></li>
				</ul>
	</div>
		
</div>
</div>




</body>
</html>